# Green - 情感疗愈交互设计 UI设计说明文档

## 项目概述

Green是一个基于表达性艺术疗愈和情感计算系统的情感疗愈应用。主要功能是通过P5.js预设绘画效果辅助用户表达和发掘内心情感，并通过情感计算系统获取用户生理数据（情绪、心率、皮电等），构建情感可视系统，帮助用户更好地认知自己的情绪状态。

## 设计理念

整体设计采用绿色和黑色为主色调，结合表达性艺术疗愈和情感计算的视觉元素，创造出既专业又有艺术感的用户界面。设计强调简洁、直观和情感化的用户体验，帮助用户在使用过程中保持平静和专注。

## 系统架构

### 主要功能模块
1. **页面导航系统**：基于HTML/CSS/JS实现的多页面无刷新导航
2. **面部情绪识别**：使用摄像头和face-api.js实现实时情绪分析
3. **生物传感器系统**：基于Arduino采集心率、皮电等生理数据
4. **情感融合引擎**：多模态数据融合算法，构建三维情感模型
5. **P5.js绘画工具**：响应情感数据的创意绘画系统
6. **3D情感可视化**：使用Three.js实现的情感空间动态展示

### 数据流程
```
输入层：摄像头(面部表情) → 面部识别处理 ─┐
                                         ├→ 情感融合 → 情感数据 → 绘画参数调整 → P5.js绘画工具
输入层：Arduino(生物信号) → 信号处理 ────┘          │
                                                    ↓
                                            Three.js情感模型可视化
```

### 用户交互流程
1. 用户通过欢迎和引导界面了解应用
2. 连接并测试设备(摄像头、生物传感器)
3. 选择绘画预设和情感计算参数
4. 进入主应用页面，通过艺术创作表达情感
5. 查看情感分析结果和使用体验评估

## 界面设计详情

### 1. 欢迎界面 (welcome.html)

**设计概念**：
- 背景采用绘画、情感、计算、心理相关的绿黑色图标或纹样
- 前景展示白色"Green"logo，突出应用名称
- 简约而有视觉冲击力的设计，给用户留下深刻第一印象

**实现方式**：
- 使用CSS动画实现背景纹样的缓慢流动效果
- Logo采用SVG格式，确保在任何尺寸下都清晰可见
- 添加简单的淡入效果，增强视觉体验

**实现详情**：
- 已在ui文件夹中创建以下文件实现欢迎界面：
  - `welcome.html`：欢迎界面的HTML结构
  - `welcome.css`：欢迎界面的样式，包含动态背景和动画效果
  - `welcome.js`：交互逻辑，处理动态元素和页面跳转


- **主要交互**：
  - 背景使用动态旋转的点阵图案和浮动图标创造活力感
  - 文字和按钮使用渐入动画增强视觉体验

- **集成方式**：
  - 修改了`main.js`文件，使应用启动时首先加载欢迎界面
  - 使用Electron的IPC机制实现界面间通信和跳转
  - 应用全屏显示，提供沉浸式体验

### 2. 简介界面 (intro.html)

**设计概念**：
- 背景延续欢迎界面的设计风格，保持视觉一致性
- 采用卡片式布局，清晰展示应用的核心功能
- 包含图文并茂的功能介绍，帮助用户快速了解应用

**内容安排**：
- 表达性艺术疗愈介绍：解释如何通过艺术表达释放情感
- 情感计算系统介绍：说明如何通过生理数据分析情绪状态
- 界面交互流程：简要说明使用流程和预期效果

**实现方式**：
- 使用Flexbox或Grid布局实现响应式卡片设计
- 添加滚动动画，使内容展示更加流畅
- 添加简单的交互元素，如悬停效果，增强用户体验

### 3. 设备调试界面（device-setup.html）

**设计概念**：
- 采用分步引导的设计，确保用户正确连接和使用设备
- 每个设备单独设计一个调试页面，界面简洁清晰
- 视觉提示明确，减少用户操作错误

**四个设备调试界面**：

1. **心率传感器调试界面**：
   - 包含图文并茂的穿戴指南
   - 实时显示心率数据，确认设备正常工作
   - 视觉反馈（如心跳动画）增强用户理解

2. **皮电传感器调试界面**：
   - 详细的传感器放置指南
   - 实时数据可视化展示
   - 标准范围指示，帮助用户判断数据是否正常

3. **摄像头调试界面**：
   - 摄像头预览窗口
   - 面部识别框，确认情绪捕捉功能正常
   - 光线和位置调整建议

4. **数位板调试界面**：
   - 绘图测试区域
   - 压感测试
   - 基本功能演示（如线条粗细变化）

**实现方式**：
- 获取摄像头视频流
- 使用Canvas显示绘图测试
- 使用图表库，实时显示传感器(../arhuino)数据
- 添加进度指示器，引导用户完成全部设备调试

### 4. 自适应预设（表达性艺术疗愈）drawing-preset.html

**设计概念**：

- 根据表达性艺术疗愈理论设计情况调查问卷：
你今天的心情和情绪如何？
你为什么想尝试绘画这种艺术疗法？
你对绘画有什么兴趣或经验？
你希望通过绘画表达或探索哪些情感？
你目前的情绪状态如何？（如焦虑、抑郁、愤怒、平静等）
最近是否发生过让你感到压力或痛苦的重大事件？
你如何看待自己的绘画能力？
对于使用的材料（颜料、画笔、画纸等），你有偏好或忌讳吗？
你是否对某些绘画材料过敏或不适？
在创作时，你是否容易产生焦虑或紧张情绪？
你平时如何应对和表达压力？
在疗程中，你希望得到哪方面的支持或反馈？
你是否担心自己的作品不够“好”或被他人批评？
你希望在创作中保持多大程度的自由或结构？
每次绘画你愿意投入多长时间？
你是否打算在家中继续练习？
你对疗程结束后的跟进和支持有何期待？
你曾经做过其他形式的艺术疗愈或心理咨询吗？效果如何？
在以往的疗愈过程中，哪些环节对你帮助最大？
你愿意将创作的作品分享或展示给他人吗？
你对个人隐私和保密有哪些要求？
如果在绘画过程中出现强烈情绪波动，你希望如何处理？
你的身体状况是否会影响绘画？（如手部、视力、坐姿等）
你对疗室的环境（光线、声音、空间大小）有什么期望？
你的宗教信仰或文化背景在疗愈中需要特别关注吗？
通过艺术疗愈，你希望达到哪些具体目标？
你如何定义“疗愈”或“成功”？
你在表达内心时，会不会自我审查或压抑？
你最担心在创作中遇到哪些问题？
你的日常作息和生活节奏会影响你参加疗程吗？
你是否有家人、朋友或社交网络给予支持？
你最想在生活中改变或改善的是什么？
在你看来，艺术与情感之间的关系是怎样的？
他人的评价是否会影响你的创作？
你喜欢在创作时听音乐，还是保持安静？
除了绘画，你还有哪些其他表达自我的方式？
你是否在创作中体验过突如其来的灵感或顿悟？
你对失败和错误的态度如何？
你愿意在疗愈中尝试不同的绘画技法或媒材吗？
对于整个疗程，你有哪些总体的期望和想法？
还有哪些你认为治疗师需要了解的重要信息
- 聚焦用户的艺术偏好、疗愈目标（如情绪释放、创伤处理、自我探索）
- 界面温暖、支持性，鼓励用户分享真实感受
- 视觉设计强调安全感和私密性

**界面组成**：
根据情况调查问卷挑选30个选择题（构建10个小页面），5个开放题（构建5个小页面）
**实现方式**：
- 使用表单组件收集用户输入。
- 使用LocalStorage或服务器端存储用户数据。
- 生成用户档案，包含定性和定量分析结果。

### 5. 自适应预设（情感计算）emotion-preset.html

**设计概念**：
自适应预设可选项目：
用户情感基线（Baseline）
· 收集用户在“中性”或“平静”状态下的生理／行为数据，用以后续情绪波动的相对判断。
传感器校准（Sensor Calibration）
· 对心率、皮电、表情视频、语音等传感器进行标定，确保不同设备和环境下数据的一致性。
特征提取管线（Feature Extraction Pipeline）
· 确定要抽取的特征（如心率变异性、面部 AUs、声学特征 MFCC、说话速率等）及其窗口大小、重叠率等参数。
情感分类阈值（Thresholds）
· 针对不同情绪类别（如愤怒、焦虑、喜悦、悲伤）设定初步识别阈值，以减少误检和过度响应。
预训练模型或个性化模型选择
· 加载通用的情感识别模型（如深度神经网络、HMM、SVM），或根据用户画像加载/微调私有化模型。
场景／上下文定义（Context Model）
· 标记当前任务场景（办公、学习、驾驶等）及外部环境（光照、噪声级、社交场合），影响自适应策略。
用户画像与偏好（User Profile）
· 包括个体的性格（如内外向）、文化背景、典型应激源、反馈风格偏好（文字、语音、音乐等）。
自适应策略库（Adaptation Strategy Repository）
· 预置多种应对方案（下降难度、提示休息、播放舒缓音乐、任务切换等），并定义触发条件与优先级。
学习速率与更新频率（Learning Rate & Update Interval）
· 确定模型在线学习的步长、批量大小，以及多长时间/多少数据后进行一次参数更新或自适应调整。
反馈映射规则（Feedback Mapping Rules）
· 将识别到的情绪及强度映射到具体反馈形式（颜色变化、进度条、提醒语、振动强度等）和反馈强度。
安全与隐私边界
· 定义数据使用边界（哪些数据用于建模、哪些数据仅本地存储）、加密方式和用户知情同意选项。
多模态融合权重（Fusion Weights）
· 对生理、行为和环境等各模态的信任度设置初始权重，以便后续根据实际表现动态调节。
异常检测与纠偏机制
· 预设异常数据（如传感器脱落、极端值）检测阈值，并给出自动重标定或警示流程。
时间窗口与上下文记忆
· 确定短期和中长期记忆窗口长度，以便捕捉瞬时情绪波动和累积情绪趋势。
任务优先级与策略切换条件
· 如果系统同时服务多项需求（学习、健身、心理辅导），预定义各任务的优先级和切换逻辑。
可视化／日志记录格式
· 规定自适应过程中的状态日志、可视化面板字段和更新频率，便于后续分析和监控。
紧急干预阈值

- 科技感与温暖感并存的界面风格
- 数据可视化清晰易懂
- 引导用户理解情感计算的基本原理

**界面组成**：
根据自适应预设可选项目选择5个项目构建5个小页面

**实现方式**：
- 使用SerialPort与Arduino通信，采集生物传感器数据
- 使用图表库实时显示数据
- 结合面部情绪识别结果，进行多模态数据融合

### 6. 主应用页面 (main-app-page)

**设计概念**：
- 功能集中、界面简洁的创作环境
- 情感数据可视化与绘画工具并存
- 可自定义的界面布局，适应不同用户需求

**界面组成**：

1. **绘画工具区域**：
   - P5.js绘画画布，占据主要空间
   - 工具选择面板，支持多种绘画工具切换
   - 参数调整控制面板，可调整绘画效果

2. **情感分析悬浮窗**：
   - 摄像头预览窗口，显示用户面部
   - 情绪识别结果实时展示
   - 可拖动、最小化或关闭

3. **3D情感模型区域**：
   - 三维情感空间可视化
   - 情感状态动态变化展示
   - 可交互旋转查看不同角度

4. **生物数据监测面板**：
   - 实时心率、皮电数据图表
   - 情感指标的量化展示
   - 数据异常提示功能

**情感响应机制**：
- 情感状态变化引起绘画效果的自动调整
- 颜色、线条、形状等参数随情绪变化而变化
- 提供情感与艺术表达的实时关联体验

**实现方式**：
- 主应用内容直接嵌入index.html中，而非单独文件
- 使用CSS Grid布局实现可灵活调整的界面
- 多模块间通过自定义事件系统通信
- 使用requestAnimationFrame维持流畅的动画和交互

### 7. 效果评估界面 (analysis.html)

**设计概念**：
- 专业报告风格，清晰展示数据
- 数据可视化与艺术创作并重
- 提供积极、建设性的反馈

**界面组成**：

1. **数据总览界面**：
   - 关键指标摘要
   - 情绪变化趋势图
   - 与基线对比分析

2. **创作分析界面**：
   - 创作过程回放
   - 关键时刻与情绪数据关联
   - 色彩、线条等元素分析

3. **个人进步报告界面**：
   - 历史数据对比
   - 情绪调节能力变化
   - 个性化建议和下一步计划

**实现方式**：
- 使用数据可视化库展示复杂数据
- 创建PDF导出功能，方便用户保存报告
- 使用动画展示时间序列数据变化
- 集成图像分析结果展示

