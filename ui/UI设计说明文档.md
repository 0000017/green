# Green - 情感疗愈交互设计 UI设计说明文档

## 项目概述

Green是一个基于表达性艺术疗愈和情感计算系统的情感疗愈应用。主要功能是通过P5.js预设绘画效果辅助用户表达和发掘内心情感，并通过情感计算系统获取用户生理数据（情绪、心率、皮电等），构建情感可视系统，帮助用户更好地认知自己的情绪状态。

## 设计理念

整体设计采用绿色和黑色为主色调，结合表达性艺术疗愈和情感计算的视觉元素，创造出既专业又有艺术感的用户界面。设计强调简洁、直观和情感化的用户体验，帮助用户在使用过程中保持平静和专注。

## 界面设计详情

### 1. 欢迎界面 (welcome.html)

**设计概念**：
- 背景采用绘画、情感、计算、心理相关的绿黑色图标或纹样
- 前景展示白色"Green"logo，突出应用名称
- 简约而有视觉冲击力的设计，给用户留下深刻第一印象

**实现方式**：
- 使用CSS动画实现背景纹样的缓慢流动效果
- Logo采用SVG格式，确保在任何尺寸下都清晰可见
- 添加简单的淡入效果，增强视觉体验

**实现详情**：
- 已在ui文件夹中创建以下文件实现欢迎界面：
  - `welcome.html`：欢迎界面的HTML结构
  - `welcome.css`：欢迎界面的样式，包含动态背景和动画效果
  - `welcome.js`：交互逻辑，处理动态元素和页面跳转
  - `startPage.js`：Electron窗口创建逻辑

- **主要交互**：
  - 用户点击"开始"按钮后，通过平滑过渡动画跳转到主应用界面
  - 背景使用动态旋转的点阵图案和浮动图标创造活力感
  - 文字和按钮使用渐入动画增强视觉体验

- **集成方式**：
  - 修改了`main.js`文件，使应用启动时首先加载欢迎界面
  - 使用Electron的IPC机制实现界面间通信和跳转
  - 应用全屏显示，提供沉浸式体验

### 2. 简介界面 (intro.html)

**设计概念**：
- 背景延续欢迎界面的设计风格，保持视觉一致性
- 采用卡片式布局，清晰展示应用的核心功能
- 包含图文并茂的功能介绍，帮助用户快速了解应用

**内容安排**：
- 表达性艺术疗愈介绍：解释如何通过艺术表达释放情感
- 情感计算系统介绍：说明如何通过生理数据分析情绪状态
- 界面交互流程：简要说明使用流程和预期效果

**实现方式**：
- 使用Flexbox或Grid布局实现响应式卡片设计
- 添加滚动动画，使内容展示更加流畅
- 添加简单的交互元素，如悬停效果，增强用户体验

### 3. 设备调试界面（device-setup.html）

**设计概念**：
- 采用分步引导的设计，确保用户正确连接和使用设备
- 每个设备单独设计一个调试页面，界面简洁清晰
- 视觉提示明确，减少用户操作错误

**四个设备调试界面**：

1. **心率传感器调试界面**：
   - 包含图文并茂的穿戴指南
   - 实时显示心率数据，确认设备正常工作
   - 视觉反馈（如心跳动画）增强用户理解

2. **皮电传感器调试界面**：
   - 详细的传感器放置指南
   - 实时数据可视化展示
   - 标准范围指示，帮助用户判断数据是否正常

3. **摄像头调试界面**：
   - 摄像头预览窗口
   - 面部识别框，确认情绪捕捉功能正常
   - 光线和位置调整建议

4. **数位板调试界面**：
   - 绘图测试区域
   - 压感测试
   - 基本功能演示（如线条粗细变化）

**实现方式**：
- 获取摄像头视频流
- 使用Canvas显示绘图测试
- 使用图表库，实时显示传感器(../arhuino)数据
- 添加进度指示器，引导用户完成全部设备调试

### 4. 自适应预设（表达性艺术疗愈）drawing-preset.html

**设计概念**：
- 根据表达性艺术疗愈理论设计情况调查问卷
- 聚焦用户的艺术偏好、疗愈目标（如情绪释放、创伤处理、自我探索）
- 界面温暖、支持性，鼓励用户分享真实感受
- 视觉设计强调安全感和私密性

**界面组成**：

1. **心理状态评估界面**：
   - 使用抑郁量表PHQ-9结合艺术偏好问题。
   - 示例问题：
     - "在过去两周内，您感到抑郁、沮丧或绝望的频率是多少？"（选项：从未 - 几乎每天）
     - "用1-10分评价最近压力水平，并选择最想尝试的艺术形式：□绘画 □即兴舞蹈 □诗歌……"

2. **艺术偏好调查界面**：
   - 询问用户对不同艺术形式的兴趣和偏好。
   - 提供多选题和开放式问题，允许用户详细描述其艺术兴趣。

3. **疗愈目标设定界面**：
   - 询问用户的疗愈目标，如情绪释放、创伤处理、自我探索等。
   - 提供选项和自定义输入，帮助用户明确其目标。

**实现方式**：
- 使用表单组件收集用户输入。
- 使用LocalStorage或服务器端存储用户数据。
- 生成用户档案，包含定性和定量分析结果。

### 5. 自适应预设（情感计算）emotion-preset.html

**设计概念**：
- 科技感与温暖感并存的界面风格
- 数据可视化清晰易懂
- 引导用户理解情感计算的基本原理

**界面组成**：

1. **基线情绪采集界面**：
   - 提供平静状态数据采集指南。
   - 使用倒计时和进度指示，帮助用户完成数据采集。

2. **情绪标定界面**：
   - 将情绪词汇与生理数据关联，设置个性化阈值。
   - 可视化展示标定进度，帮助用户理解其情感状态。

3. **情感模型预览界面**：
   - 使用三维情感模型可视化当前情绪状态。
   - 提供简要说明各维度含义，帮助用户理解情感计算的基本原理。

**实现方式**：
- 使用将传感器数据显示给用户
- 使用展示实时数据。
- 通过保持设备数据的实时传输。

### 6. 主应用页面  index.html

**注**：已完成开发，无需重新设计。

### 7. 效果评估界面analysis.html

**设计概念**：
- 专业报告风格，清晰展示数据
- 数据可视化与艺术创作并重
- 提供积极、建设性的反馈

**界面组成**：

1. **数据总览界面**：
   - 关键指标摘要
   - 情绪变化趋势图
   - 与基线对比分析

2. **创作分析界面**：
   - 创作过程回放
   - 关键时刻与情绪数据关联
   - 色彩、线条等元素分析

3. **个人进步报告界面**：
   - 历史数据对比
   - 情绪调节能力变化
   - 个性化建议和下一步计划

**实现方式**：
- 使用数据可视化库展示复杂数据
- 创建PDF导出功能，方便用户保存报告
- 使用动画展示时间序列数据变化
- 集成图像分析结果展示

## 实现方案

### 通过MCP协议连接Cursor和Figma

1. 使用`taik to figma "channel":"bgh4w22m"`命令在Cursor中连接到Figma
2. 使用以下工具函数获取和创建设计元素：
   - `mcp_TalkToFigma_get_document_info`：获取文档基本信息
   - `mcp_TalkToFigma_get_node_info`：获取特定节点信息
   - `mcp_TalkToFigma_create_frame`：创建新的框架
   - `mcp_TalkToFigma_create_text`：添加文本元素
   - `mcp_TalkToFigma_create_rectangle`：创建矩形元素
   - `mcp_TalkToFigma_set_fill_color`：设置填充颜色
   - 其他MCP工具函数根据需要使用

### 将Figma设计转化为Electron应用

1. **布局实现**：
   - 使用HTML/CSS实现Figma设计的布局
   - 采用Flexbox和Grid确保响应式设计
   - 将颜色、字体等样式存储为CSS变量，方便全局修改

2. **页面导航**：
   - 实现基于路由的页面切换
   - 使用过渡动画增强用户体验
   - 保存用户进度，允许跳回之前的步骤

3. **设备集成**：
   - 使用WebUSB API或串行通信连接Arduino传感器
   - 使用WebRTC API接入摄像头
   - 集成手写板驱动或使用Canvas API捕获鼠标/触摸输入

4. **数据处理与可视化**：
   - 使用Web Workers处理传感器数据，避免阻塞主线程
   - 结合Three.js和D3.js创建数据可视化
   - 使用IndexedDB存储用户数据

5. **P5.js集成**：
   - 创建模块化的P5.js草图
   - 基于用户选择动态加载不同的绘画效果
   - 实现绘画状态的保存与恢复

## 开发流程建议

1. **UI框架搭建**：
   - 根据Figma设计创建基础HTML/CSS结构
   - 实现页面路由和导航系统
   - 确保响应式设计在各种屏幕尺寸下正常工作

2. **设备连接模块**：
   - 分别实现各传感器的连接和数据采集
   - 创建数据规范化和处理pipeline
   - 实现设备状态监控和错误处理

3. **P5.js模块**：
   - 创建不同的绘画预设
   - 实现用户输入（手写板、鼠标等）与绘画效果的交互
   - 优化绘画性能

4. **数据分析与可视化**：
   - 实现情绪计算算法
   - 创建三维情感模型可视化
   - 设计和实现报告生成功能

5. **集成测试**：
   - 确保各模块无缝协作
   - 测试不同设备组合下的应用性能
   - 优化用户体验细节

## 流程集成

为实现完整的用户体验流程，界面的加载顺序如下：

1. **欢迎界面**：应用启动时首先显示
2. **简介界面**：用户点击"开始"后展示
3. **设备调试界面**：分步指导用户连接所有设备
4. **自适应预设**：根据用户情况定制体验
5. **使用界面**：提供主要功能体验
6. **效果评估**：展示用户使用结果和进步

每个界面通过平滑的过渡动画相连，形成一个连贯的体验流程。用户可以在任意界面暂停，稍后继续。重要的用户数据和设置会被保存，确保体验的连续性。

## 结论

这份UI设计说明文档提供了Green应用各界面的设计理念和实现方案。通过MCP协议连接Cursor和Figma，可以高效地完成设计并将其转化为功能完善的Electron应用。项目结合了表达性艺术疗愈和情感计算的理论基础，创造了一个既有科学依据又具艺术性的情感疗愈工具。 